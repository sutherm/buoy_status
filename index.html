<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Map Dashboard</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/leaflet.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/leaflet.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background: #f5f5f5;
        }
        
        .header {
            background: #3d529b; <!-- linear-gradient(270deg, #4898b9 0%, #3d529b 50%); -->
            color: white;
            padding: 1.5rem 2rem;
            box-shadow: 0 2px 4px rgba(0,0,0,0.5);
        }
        
        .header h1 {
			color: #f5f5f5;
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
        }
        
        .header p {
            color: #f5f5f5;
			opacity: 0.9;
            font-size: 0.85rem;
        }
        
        .container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1.5rem;
            padding: 1.5rem;
            max-width: 1600px;
            margin: 0 auto;
        }
        
        .panel {
            background: white;
            border-radius: 8px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        
        .panel-header {
            background: #f8f9fa;
            padding: 1rem 1.5rem;
            border-bottom: 1px solid #e9ecef;
            font-weight: 600;
            color: #495057;
        }
        
        #map {
            height: 600px;
            width: 100%;
        }
        
        .table-container {
            padding: 1.5rem;
            max-height: 500px;
            overflow-y: auto;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
        }
        
        th {
            background: #f8f9fa;
            padding: 0.75rem;
            text-align: left;
            font-weight: 600;
            color: #495057;
            border-bottom: 2px solid #dee2e6;
            position: sticky;
            top: 0;
        }
        
        td {
            padding: 0.75rem;
            border-bottom: 1px solid #e9ecef;
        }
        
        tr:hover {
            background: #FB8500;
            cursor: pointer;
			opacity: 0.5
        }
        
        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            padding: 1.5rem;
        }
        
        .stat-card {
            background: #4898b9; <!-- linear-gradient(270deg, #4898b9 1%, #3d529b 100%); -->
            color: white;
            padding: 1.25rem;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .stat-value {
			color: #f5f5f5;
            font-size: 2.5rem;
            font-weight: bold;
            margin-bottom: 0.3rem;
        }
        
        .stat-label {
            color: #f5f5f5;
			opacity: 0.9;
            font-size: 0.9rem;
        }
        
        @media (max-width: 968px) {
            .container {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>GLOS Buoy Status</h1>
        <p>Status as of mm-dd-2025</p>
    </div>
    
    <div class="container">
        <div class="panel">
            <!-- <div class="panel-header">GLOS-Supported Buoys</div> -->
            <div id="map"></div>
        </div>
        
        <div class="panel">
            <div class="panel-header">GLOS Supported Buoys</div>
            <div class="table-container">
                <table id="dataTable">
                    <thead>
                        <tr>
                            <th>Buoy ID</th>
                            <th>Name</th>
                            <th>Value</th>
                            <th>Status</th>
                        </tr>
                    </thead>
                    <tbody id="tableBody">
                    </tbody>
                </table>
            </div>
        </div>
        
        <div class="panel" style="grid-column: 1 / -1;">
            <div class="panel-header">Summary Statistics</div>
            <div class="stats" id="statsContainer">
            </div>
        </div>
    </div>

    <script>
        // Sample data - replace with your own
        const locations = [
            { name: "45013", lat: 43.09800, lng: -87.84960, value: 1, status: "Active" },
            { name: "45014", lat: 44.80000,	lng: -87.76000, value: 1, status: "Active" },
            { name: "45022", lat: 45.40300,	lng: -85.08800, value: 1, status: "Inactive" },
            { name: "45023", lat: 47.26993, lng: -88.60705, value: 1, status: "Active" },
            { name: "45024", lat: 43.97665,	lng: -86.55945, value: 1, status: "Inactive" }
        ];

        // Initialize map
        const map = L.map('map').setView([45, -84.5], 6);
		
		L.tileLayer('https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png', {
			attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',
			subdomains: 'abcd',
			maxZoom: 20}).addTo(map);

        // Add markers
        const markers = {};
        locations.forEach(loc => {
            const marker = L.marker([loc.lat, loc.lng])
                .addTo(map)
                .bindPopup(`<b>${loc.name}</b><br>Status: ${loc.status.toLocaleString()}`);
            markers[loc.name] = marker;
        });

        // Populate table
        const tableBody = document.getElementById('tableBody');
        locations.forEach(loc => {
            const row = document.createElement('tr');
            row.innerHTML = `
                <td>${loc.name}</td>
                <td>${loc.type}</td>
                <td>${loc.value.toLocaleString()}</td>
                <td>${loc.status}</td>
            `;
            row.addEventListener('click', () => {
                markers[loc.name].openPopup();
                map.setView([loc.lat, loc.lng], 10);
            });
            tableBody.appendChild(row);
        });

        // Calculate and display stats
        const totalValue = locations.reduce((sum, loc) => sum + loc.value, 0);
        const avgValue = totalValue / locations.length;
        const activeCount = locations.filter(loc => loc.status === 'Active').length;

        const statsContainer = document.getElementById('statsContainer');
        const stats = [
            { label: 'Total Buoys', value: locations.length },
            { label: 'Active Buoys', value: activeCount },
        <!-- { label: 'Total Value', value: totalValue.toLocaleString() }, -->
            { label: 'Buoy Status Changes', value: Math.round(avgValue).toLocaleString() }
        ];

        stats.forEach(stat => {
            const card = document.createElement('div');
            card.className = 'stat-card';
            card.innerHTML = `
                <div class="stat-value">${stat.value}</div>
                <div class="stat-label">${stat.label}</div>
            `;
            statsContainer.appendChild(card);
        });
    </script>
</body>
</html>